<!-- ==============  GALLERY  ============== -->
<div class="gallery">
  <hr />
  <figure>
    <img src="images/member_images/기계학회1.png"  alt="기계학회1" />
    <img src="images/member_images/기계학회2.png"  alt="기계학회2" />
    <img src="images/member_images/기계학회3.png"  alt="기계학회3" />
    <img src="images/member_images/기계학회4.png"  alt="기계학회4" />
    <img src="images/member_images/기계학회5.png"  alt="기계학회5" />
    <img src="images/member_images/기계학회6.png"  alt="기계학회6" />
    <figcaption>2025/06/27 대한기계학회 대경지회 학술대회</figcaption>
  </figure>

  <hr />
  <figure>
    <img src="images/member_images/스승의 날.png" alt="스승의 날" />
    <figcaption>2025/05/15 스승의 날</figcaption>
  </figure>

  <hr />
  <figure>
    <img src="images/member_images/화신정공.png" alt="화신정공" />
    <figcaption>2025/01/15 화신정공 견학</figcaption>
  </figure>

  <hr />
  <figure>
    <img src="images/member_images/AI 캡스톤 대회1.png" alt="AI 캡스톤 대회1" />
    <img src="images/member_images/AI 캡스톤 대회2.png" alt="AI 캡스톤 대회2" />
    <figcaption>2024/12/21 AI 캡스톤디자인 경진대회</figcaption>
  </figure>

  <hr />
  <figure>
    <img src="images/member_images/남양연구소.png" alt="남양연구소" />
    <figcaption>2024/08/06 현대자동차 남양연구소 견학</figcaption>
  </figure>
</div>

<!-- ==============  STYLE  ============== -->
<style>
:root { --ratio: 4/3; }                     /* 1/1·16/9 등으로 교체 가능 */

.gallery               { max-width:1000px; margin:0 auto; }
hr                     { border:none; border-top:1px solid #ddd; margin:2rem 0; }

figure                 { position:relative; margin:0; text-align:center; }
figure img             { width:100%; aspect-ratio:var(--ratio); object-fit:cover;
                         border-radius:4px; display:none; }

figure img.active      { display:block; }   /* 현재 보이는 슬라이드 */

figcaption             { margin-top:.75rem; font-size:1rem; font-weight:600; color:#333; }

/* 슬라이드 내비게이션 화살표 (각 figure 안) */
.fig-nav {
  position:absolute; top:50%; width:44px; height:44px;
  transform:translateY(-50%);
  background:rgba(0,0,0,.45); color:#fff; border:none; border-radius:50%;
  font-size:1.8rem; line-height:1; cursor:pointer;
}
.fig-nav.prev { left:6px;  }
.fig-nav.next { right:6px; }
.fig-nav:hover{ background:rgba(0,0,0,.6); }

@media(max-width:480px){
  figcaption{font-size:.9rem}
}
</style>

<!-- ==============  SCRIPT  ============== -->
<script>
document.addEventListener('DOMContentLoaded', () => {

  /* 모든 figure 순회 */
  document.querySelectorAll('.gallery figure').forEach(fig => {
    const imgs = Array.from(fig.querySelectorAll('img'));
    if (imgs.length === 0) return;

    /* ① 이미지가 1장뿐이면 그대로 표시 */
    if (imgs.length === 1){
      imgs[0].classList.add('active');
      return;
    }

    /* ② 두 장 이상이면 슬라이드 UI 구성 */
    let idx = 0;
    imgs[idx].classList.add('active');

    /* 화살표 버튼 생성 */
    const makeBtn = (dir,sym) => {
      const btn = document.createElement('button');
      btn.className = `fig-nav ${dir}`;
      btn.setAttribute('aria-label', dir);
      btn.textContent = sym;
      fig.appendChild(btn);
      return btn;
    };
    const prevBtn = makeBtn('prev','‹');
    const nextBtn = makeBtn('next','›');

    /* 슬라이드 이동 함수 */
    const go = step => {
      imgs[idx].classList.remove('active');
      idx = (idx + step + imgs.length) % imgs.length;
      imgs[idx].classList.add('active');
    };

    prevBtn.addEventListener('click',()=>go(-1));
    nextBtn.addEventListener('click',()=>go( 1));

    /* 터치 스와이프(모바일 간단 지원) */
    let startX = 0;
    fig.addEventListener('touchstart',e=>startX=e.touches[0].clientX,{passive:true});
    fig.addEventListener('touchend',e=>{
      const diff = e.changedTouches[0].clientX - startX;
      if(Math.abs(diff)>50) go(diff>0 ? -1 : 1);
    },{passive:true});
  });

});
</script>
